---
// Pricing Plans section with 4 plans from the guide
interface Plan {
  name: string;
  price: number;
  lessonsPerMonth: number;
  pricePerLesson: string;
  features: string[];
  highlighted?: boolean;
}

const plans: Plan[] = [
  {
    name: "Bronze",
    price: 176,
    lessonsPerMonth: 4,
    pricePerLesson: "44,00",
    features: [
      "4 aulas por mês",
      "Aulas individuais",
      "Agendamento flexível",
      "Aulas de 25 minutos",
      "Suporte via WhatsApp"
    ]
  },
  {
    name: "Platina",
    price: 284,
    lessonsPerMonth: 10,
    pricePerLesson: "28,40",
    features: [
      "10 aulas por mês",
      "Aulas individuais",
      "Agendamento flexível",
      "Aulas de 25 minutos",
      "Suporte via WhatsApp",
      "Acesso ao Callan App"
    ]
  },
  {
    name: "Prata",
    price: 375,
    lessonsPerMonth: 16,
    pricePerLesson: "23,44",
    features: [
      "16 aulas por mês",
      "Aulas individuais",
      "Agendamento flexível",
      "Aulas de 25 minutos",
      "Suporte via WhatsApp",
      "Acesso ao Callan App"
    ],
    highlighted: true
  },
  {
    name: "Ouro",
    price: 510,
    lessonsPerMonth: 26,
    pricePerLesson: "19,62",
    features: [
      "26 aulas por mês",
      "Aulas individuais",
      "Agendamento flexível",
      "Aulas de 25 minutos",
      "Suporte via WhatsApp",
      "Acesso ao Callan App"
    ]
  }
];
---

<section class="pricing" id="planos">
  <div class="container">
    <div class="section-header">
      <span class="section-tag">Planos</span>
      <h2 class="section-title">A QQEnglish tem um plano ideal para você</h2>
      <p class="section-subtitle">
        Na QQEnglish todos os planos incluem as aulas no método Callan. Veja a lista, avalie e encontre o conteúdo e valores das aulas conversação, aulas de inglês para negócios, inglês para viagens e muito mais.
      </p>
    </div>

    <div class="plans-grid">
      {plans.map((plan) => (
        <div class={`plan-card ${plan.highlighted ? 'plan-card--highlighted' : ''}`}>
          {plan.highlighted && <span class="plan-badge">Mais Popular</span>}

          <h3 class="plan-name">{plan.name}</h3>

          <div class="plan-price">
            <span class="price-currency">R$</span>
            <span class="price-value">{plan.price}</span>
            <span class="price-period">/ mês</span>
          </div>

          <p class="plan-per-lesson">R$ {plan.pricePerLesson} por aula</p>

          <ul class="plan-features">
            {plan.features.map((feature) => (
              <li>
                <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span>{feature}</span>
              </li>
            ))}
          </ul>

          <a href="#lead-form" class={`plan-cta ${plan.highlighted ? 'plan-cta--primary' : ''}`}>
            ESCOLHER PLANO
          </a>
        </div>
      ))}
    </div>

    <p class="pricing-note">
      Invista na sua carreira. Todos os planos incluem acesso a professores 100% certificados TESOL.
    </p>
  </div>
</section>

<style>
  .pricing {
    padding: var(--section-padding) 0;
    background: var(--color-gray-50);
  }

  .section-header {
    text-align: center;
    max-width: 700px;
    margin: 0 auto 3rem;
  }

  .section-tag {
    display: inline-block;
    padding: 0.375rem 0.875rem;
    background: var(--color-primary);
    color: white;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: var(--radius-sm);
    margin-bottom: 1rem;
  }

  .section-title {
    font-size: clamp(1.5rem, 3.5vw, 2.25rem);
    margin-bottom: 0.75rem;
    color: var(--color-dark);
    font-weight: 700;
  }

  .section-subtitle {
    font-size: 1rem;
    color: var(--color-gray-600);
    line-height: 1.6;
  }

  .plans-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .plans-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .plans-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .plan-card {
    position: relative;
    background: white;
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    text-align: center;
    transition: transform var(--transition-base), box-shadow var(--transition-base);
  }

  .plan-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  .plan-card--highlighted {
    border-color: var(--color-primary);
    border-width: 2px;
    box-shadow: var(--shadow-md);
  }

  .plan-badge {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    padding: 0.25rem 0.75rem;
    background: var(--color-primary);
    color: white;
    font-size: 0.6875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: var(--radius-full);
    white-space: nowrap;
  }

  .plan-name {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-primary);
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.025em;
  }

  .plan-price {
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: 0.25rem;
    margin-bottom: 0.25rem;
  }

  .price-currency {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-gray-600);
  }

  .price-value {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--color-dark);
    line-height: 1;
  }

  .price-period {
    font-size: 0.875rem;
    color: var(--color-gray-500);
  }

  .plan-per-lesson {
    font-size: 0.8125rem;
    color: var(--color-gray-500);
    margin-bottom: 1.25rem;
  }

  .plan-features {
    list-style: none;
    text-align: left;
    margin-bottom: 1.5rem;
  }

  .plan-features li {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
    font-size: 0.8125rem;
    color: var(--color-gray-700);
  }

  .check-icon {
    width: 16px;
    height: 16px;
    color: var(--color-primary);
    flex-shrink: 0;
    margin-top: 2px;
  }

  .plan-cta {
    display: block;
    width: 100%;
    padding: 0.75rem 1rem;
    background: white;
    color: var(--color-primary);
    font-size: 0.8125rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border: 2px solid var(--color-primary);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: background var(--transition-fast), color var(--transition-fast);
  }

  .plan-cta:hover {
    background: var(--color-primary);
    color: white;
  }

  .plan-cta--primary {
    background: var(--color-primary);
    color: white;
  }

  .plan-cta--primary:hover {
    background: var(--color-primary-dark);
  }

  .pricing-note {
    text-align: center;
    font-size: 0.875rem;
    color: var(--color-gray-500);
    margin-top: 2rem;
  }
</style>
